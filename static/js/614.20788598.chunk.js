"use strict";(self.webpackChunkradast=self.webpackChunkradast||[]).push([[614],{2614:function(e,r,t){t.r(r),t.d(r,{default:function(){return O}});var n=t(4165),a=t(5861),i=t(9439),l=t(7839),s=t(5705),o=t(2791),u=t(7689),c=t(6727),d=t(6771),f=t(184);var m=function(e){var r=e.label,t=e.id,n=e.type,a=e.value,l=e.placeholder,s=e.onChange,u=e.color,c=e.disabled,d=(0,o.useState)(" "),m=(0,i.Z)(d,2),h=m[0],p=m[1],v=(0,o.useId)();return(0,f.jsxs)("div",{className:"relative",children:[(0,f.jsx)("input",{type:null!==n&&void 0!==n?n:"text",value:a,id:"floating-label-".concat(t||v),className:"floating-label peer ".concat(u||""),placeholder:h,disabled:c,onChange:function(e){return s(e.target.value)},onFocus:function(){return p(l)},onBlur:function(){return p(" ")}}),(0,f.jsx)("label",{htmlFor:"floating-label-".concat(t||v),className:"floating-label ".concat(u||""),children:r})]})},h=t(669),p=t(5671),v=t(3144),x=function(){function e(){(0,p.Z)(this,e)}return(0,v.Z)(e,[{key:"register",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.Z.sleep(2e3);case 2:return e.abrupt("return",{code:200});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),b=new x,g={firstName:"",lastName:"",phone:"",email:"",ref:""},N="First name",j="Last name",y="Phone number",Z="Email",w="Referral",q={required:"{field} is required",notEmpty:"{field} is not empty",invalid:"{field} is invalid"},E={firstName:{required:q.required.replace("{field}",N),notEmpty:q.notEmpty.replace("{field}",N)},lastName:{required:q.required.replace("{field}",j),notEmpty:q.notEmpty.replace("{field}",j)},phone:{required:q.required.replace("{field}",y)},email:{required:q.required.replace("{field}",Z),invalid:q.invalid.replace("{field}",Z)}},k=c.Ry().shape({firstName:c.Z_().trim().required(E.firstName.required),lastName:c.Z_().trim().required(E.lastName.required),phone:c.Z_().required(E.phone.required).matches(/^\d{10}$/,"Phone number must be 10 digits"),email:c.Z_().required(E.email.required).email(E.email.invalid)}),S="https://img.freepik.com/free-vector/businessman-holding-pencil-big-complete-checklist-with-tick-marks_1150-35019.jpg?w=740&t=st=1698810211~exp=1698810811~hmac=bea1e68ff31574f189c99df4ac39b2853e4dae2c7714aac9065d22adff5830d3";function C(e){var r=e.isSubmitted,t=e.errors;return r&&t?(0,f.jsx)("small",{className:"text-red-600",children:t}):(0,f.jsx)(f.Fragment,{})}function F(e){var r=e.children,t=e.isError;return(0,f.jsx)("div",{className:"relative ".concat(t?"mb-1":"mb-7"),children:r})}var O=function(){var e,r,t,c,p,v=(0,u.TH)(),x=(0,h.b)(),q=x.isMobile,E=x.setOneTimeRegister,O=(0,s.TA)({initialValues:g,validationSchema:k,validateOnMount:!1,validateOnBlur:!0,validateOnChange:!0}),P=O.values,R=O.errors,_=O.setValues,z=O.validateForm,L=O.setFieldValue,T=(0,o.useState)(!1),V=(0,i.Z)(T,2),A=V[0],B=V[1],H=(0,o.useState)(!1),I=(0,i.Z)(H,2),M=I[0],W=I[1],D=(0,o.useState)({}),U=(0,i.Z)(D,2),$=U[0],G=U[1],J=new URLSearchParams(v.search);function K(){return K=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),e.next=3,z().then(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(G(R),r&&!d.Z.isObjectEmpty(r)){e.next=5;break}return W(!0),e.next=5,b.register(P).then((function(e){200===e.code&&E(!0)})).catch((function(){})).finally((function(){W(!1)}));case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)}))),K.apply(this,arguments)}var Q=(0,o.useCallback)((function(e){return A&&$&&$[e]?"failure":""}),[A,$]);return(0,o.useEffect)((function(){A&&G(R)}),[A,R]),(0,o.useEffect)((function(){var e,r,t,n,a,i=null!==(e=J.get("firstName"))&&void 0!==e?e:"",l=null!==(r=J.get("lastName"))&&void 0!==r?r:"",s=null!==(t=J.get("phone"))&&void 0!==t?t:"",o=null!==(n=J.get("email"))&&void 0!==n?n:"",u=null!==(a=J.get("ref"))&&void 0!==a?a:"";_({firstName:i,lastName:l,phone:s,email:o,ref:u})}),[]),(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("section",{className:"register-page",children:(0,f.jsxs)(l.Zb,{imgSrc:q?void 0:S,horizontal:!q,theme:{root:{base:"flex rounded-lg border border-gray-200 bg-white shadow-md",horizontal:{on:"flex-col md:flex-row"},children:"flex register-form h-full flex-col justify-center p-6"},img:{horizontal:{on:"rounded-t-lg object-none md:w-72 md:rounded-none md:rounded-l-lg"}}},children:[q&&(0,f.jsx)("img",{src:S,className:"w-full",alt:"register"}),(0,f.jsx)("h1",{className:"text-2xl",children:"Prepare to Radast \ud83d\udce1"}),(0,f.jsx)("h2",{className:"text-left font-bold",children:"New user? Let's get you started!"}),(0,f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(){K.apply(this,arguments)}()},children:[(0,f.jsxs)(F,{isError:!!$.firstName,children:[(0,f.jsx)(m,{label:N,placeholder:"Enter your first name",value:null!==(e=O.values.firstName)&&void 0!==e?e:"",onChange:function(e){L("firstName",e)},color:Q("firstName"),disabled:M}),(0,f.jsx)(C,{field:"firstName",isSubmitted:A,errors:$.firstName})]}),(0,f.jsxs)(F,{isError:!!$.lastName,children:[(0,f.jsx)(m,{label:j,placeholder:"Enter your last name",value:null!==(r=O.values.lastName)&&void 0!==r?r:"",onChange:function(e){L("lastName",e)},color:Q("lastName"),disabled:M}),(0,f.jsx)(C,{field:"firstName",isSubmitted:A,errors:$.lastName})]}),(0,f.jsxs)(F,{isError:!!$.phone,children:[(0,f.jsx)(m,{label:y,placeholder:"0901234567",value:null!==(t=O.values.phone)&&void 0!==t?t:"",onChange:function(e){L("phone",e)},color:Q("phone"),disabled:M}),(0,f.jsx)(C,{field:"phone",isSubmitted:A,errors:$.phone})]}),(0,f.jsxs)(F,{isError:!!$.email,children:[(0,f.jsx)(m,{label:Z,placeholder:"email@test.com",value:null!==(c=O.values.email)&&void 0!==c?c:"",onChange:function(e){L("email",e)},color:Q("email"),disabled:M}),(0,f.jsx)(C,{field:"email",isSubmitted:A,errors:$.email})]}),(0,f.jsx)(F,{children:(0,f.jsx)(m,{label:w,placeholder:"010A9999",value:null!==(p=O.values.ref)&&void 0!==p?p:"",onChange:function(e){L("ref",e)},disabled:M})}),(0,f.jsx)("div",{className:"text-center lg:text-left",children:(0,f.jsx)("div",{className:"flex justify-center",children:(0,f.jsx)(l.zx,{type:"submit",pill:!0,isProcessing:M,className:"w-full",children:"Register"})})})]})]})})})}},6771:function(e,r,t){var n=t(4165),a=t(5861),i={defaultCompanyLogoSrc:"building.png",isNotFalsyExceptZero:function(e){return 0===e||!e},isFalsyIncludeZero:function(e){return 0===e||!e},sleep:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,r)}));case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),addHttpsPrefix:function(e){return e.startsWith("http://")||e.startsWith("https://")?e:"http://".concat(e)},isObjectEmpty:function(e){return 0===Object.keys(e).length}};r.Z=i}}]);
//# sourceMappingURL=614.20788598.chunk.js.map