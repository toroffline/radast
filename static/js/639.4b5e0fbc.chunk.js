"use strict";(self.webpackChunkradast=self.webpackChunkradast||[]).push([[639],{1304:function(e,n,i){i.r(n),i.d(n,{default:function(){return C}});var t=i(7762),a=i(4165),c=i(5861),s=i(1413),l=i(9439),r=i(2791),o=i(7689),u=i(1087),f=i(7839),d=i(3853),p=i(669),m=i(846),v=i(3291),h=i(6771),x=i(184);var j=function(e){var n=e.from,i=e.to,t=e.onApply,a=(0,r.useState)(),c=(0,l.Z)(a,2),s=c[0],o=c[1],u=(0,r.useState)(),d=(0,l.Z)(u,2),p=d[0],m=d[1];function v(e,n){/^[0-9]*$/.test(e)?n((function(n){return(null!==n&&void 0!==n?n:"")+e})):"Backspace"===e&&n((function(e){return e.toString().slice(0,-1)}))}var j=(0,r.useMemo)((function(){return h.Z.isFalsyIncludeZero(n)&&h.Z.isFalsyIncludeZero(i)?"Market Cap":"".concat(n&&n>=0?n.toLocaleString():"from"," - ").concat(i&&i>=0?i.toLocaleString():"to")}),[n,i]);return(0,r.useEffect)((function(){return o(n||"")}),[n]),(0,r.useEffect)((function(){return m(i||"")}),[i]),(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(f.Lt,{dismissOnClick:!0,label:j,children:(0,x.jsxs)("div",{id:"range-input-menu",className:"p-3",children:[(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)(f.oi,{placeholder:"From",defaultValue:s||"",onKeyUp:function(e){return v(e.key,o)},className:"range"}),(0,x.jsx)("span",{className:"mx-1",children:" \u2014 "}),(0,x.jsx)(f.oi,{placeholder:"To",defaultValue:p||"",onKeyUp:function(e){return v(e.key,m)},className:"range"})]}),(0,x.jsxs)("div",{className:"flex items-center justify-between mt-3",children:[(0,x.jsx)("a",{href:"",onClick:function(e){e.preventDefault(),o(0),m(0),t(0,0)},children:"Clear"}),(0,x.jsx)(f.zx,{onClick:function(){t(+s,+p)},className:"apply",children:"Apply"})]})]})})})},y=i(3433);var A=function(e){var n=e.filters,i=e.onApply,a=(0,r.useState)((0,y.Z)(n)),c=(0,l.Z)(a,2),o=c[0],u=c[1],d=(0,r.useCallback)((function(e){var n,i=!1,a=0,c=0,s=(0,t.Z)(e);try{for(s.s();!(n=s.n()).done;){var l=n.value;"all"!==l.value?l.isActive?c+=1:a+=1:l.isActive&&(i=!0)}}catch(o){s.e(o)}finally{s.f()}var r=a===e.length-1;return{isSelectAll:i=i||c===e.length-1,isDeselectAll:r}}),[]),p=(0,r.useMemo)((function(){return d(n).isSelectAll?n.filter((function(e){return"all"!==e.value})).map((function(e){return e.display})).join(", "):n.filter((function(e){return e.isActive})).map((function(e){return e.display})).join(", ")}),[n]);return(0,x.jsx)(f.Lt,{dismissOnClick:!0,label:p,onBlur:function(){return u((0,y.Z)(n))},children:(0,x.jsxs)("div",{className:"p-3",children:[(0,x.jsx)("div",{className:"flex flex-row gap-1",children:o.map((function(e,n){return(0,x.jsx)(f.zx,{color:e.isActive?void 0:"light",onClick:function(){u((function(e){return e.map((function(e,i){return(0,s.Z)((0,s.Z)({},e),{},{isActive:("all"!==e.value||!e.isActive)&&(n===i?!e.isActive:e.isActive)})}))}))},children:e.display},"dropdown-filter-".concat(n))}))}),(0,x.jsxs)("div",{className:"flex items-center justify-between mt-3",children:[(0,x.jsx)("a",{href:"",onClick:function(e){e.preventDefault();var n=o.map((function(e){return(0,s.Z)((0,s.Z)({},e),{},{isActive:"all"===e.value})}));u(n),i(n)},children:"Clear"}),(0,x.jsx)(f.zx,{onClick:function(){!function(){var e,n=d(o),t=n.isSelectAll,a=n.isDeselectAll;if(t){var c=o.map((function(e){return(0,s.Z)((0,s.Z)({},e),{},{isActive:"all"===e.value})}));e=c,u(c)}else{var l=o.map((function(e){return(0,s.Z)((0,s.Z)({},e),{},{isActive:a?e.isDefault:"all"!==e.value&&e.isActive})}));e=l,u(l)}i(e)}()},className:"apply",children:"Apply"})]})]})})},Z={isActive:!1,direction:"desc"};function k(e){var n=e.display,i=e.direction,t=e.isActive,a=e.className,c=e.onClickSorting;return(0,x.jsxs)(f.iA.HeadCell,{className:"flex hover:underline ".concat(a||""),onClick:function(){return c()},children:[n,(0,x.jsx)("span",{className:"table-header-icon ".concat(t?"active":""),children:"asc"===i?(0,x.jsx)(d.iRh,{}):(0,x.jsx)(d.tv1,{})})]})}var C=function(){var e=(0,o.s0)(),n=(0,p.b)(),i=n.isMobile,h=n.setDisplayBackBtn,y=(0,r.useState)([]),C=(0,l.Z)(y,2),N=C[0],g=C[1],b=(0,r.useState)({sort:{companyName:{display:"Company Name",isActive:!0,direction:"desc"},marketCap:{display:"Market Cap",isActive:!1,direction:"asc"}},marketCap:{from:null,to:null},search:"",fType:[{display:"All",value:"all",isActive:!1},{display:"Type S",value:"S",isActive:!0,isDefault:!0},{display:"Type A",value:"A",isActive:!1}]}),w=(0,l.Z)(b,2),S=w[0],T=w[1],D=(0,r.useState)(""),F=(0,l.Z)(D,2),U=F[0],E=F[1],B=(0,r.useState)(!0),H=(0,l.Z)(B,2),L=H[0],M=H[1];function O(e){var n=(0,s.Z)({},S.sort);Object.keys(n).forEach((function(i){i===e?n[e].isActive?n[e].direction="asc"===n[e].direction?"desc":"asc":n[e].isActive=!0:n[i]=(0,s.Z)((0,s.Z)({},n[i]),Z)})),T((function(e){return(0,s.Z)((0,s.Z)({},e),{},{sort:n})}))}return(0,r.useEffect)((function(){function e(){return(e=(0,c.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Z.getList().then((function(e){return g(e)})).finally((function(){return M(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}h(!1),M(!0),function(){e.apply(this,arguments)}()}),[]),(0,r.useEffect)((function(){function e(){return(e=(0,c.Z)((0,a.Z)().mark((function e(){var n,i,c,l,r,o,u,f,d,p;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={field:void 0,direction:void 0},i=0,c=Object.keys(S.sort);case 2:if(!(i<c.length)){e.next=11;break}if(l=c[i],!S.sort[l].isActive){e.next=8;break}return n.field=l,n.direction=S.sort[l].direction,e.abrupt("break",11);case 8:i++,e.next=2;break;case 11:r=[],o=!1,u=(0,t.Z)(S.fType);try{for(u.s();!(f=u.n()).done;)"all"===(d=f.value).value&&(o=d.isActive),(d.isActive||o)&&r.push(d.value)}catch(a){u.e(a)}finally{u.f()}return p=(0,s.Z)((0,s.Z)({},S),{},{sort:n,fType:r}),e.next=18,m.Z.search(p).then((function(e){return g(e)})).finally((function(){return M(!1)}));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}M(!0),function(){e.apply(this,arguments)}()}),[S]),(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(f.Zb,{className:"overflow-scroll sm:overflow-auto",children:[(0,x.jsxs)("div",{className:"main-filter",children:[(0,x.jsx)(f.oi,{icon:d.jRj,value:null!==U&&void 0!==U?U:"",placeholder:"Search by name or relavant keyword",onChange:function(e){E(e.target.value)},onKeyUp:function(e){"Enter"===e.key&&T((function(e){return(0,s.Z)((0,s.Z)({},e),{},{search:U})}))},className:"company-input-search"}),(0,x.jsxs)("div",{className:"sub-filter",children:[(0,x.jsx)(A,{filters:S.fType,onApply:function(e){T((function(n){return(0,s.Z)((0,s.Z)({},n),{},{fType:e})}))}}),(0,x.jsx)(j,{from:S.marketCap.from,to:S.marketCap.to,onApply:function(e,n){T((function(i){return(0,s.Z)((0,s.Z)({},i),{},{marketCap:{from:e,to:n}})}))}})]})]}),(0,x.jsxs)("div",{className:"content",children:[N&&N.length>0?(0,x.jsxs)(f.iA,{hoverable:!0,children:[(0,x.jsxs)(f.iA.Head,{children:[i&&(0,x.jsx)(f.iA.HeadCell,{}),(0,x.jsx)(k,(0,s.Z)((0,s.Z)({},S.sort.companyName),{},{onClickSorting:function(){return O("companyName")}})),(0,x.jsx)(f.iA.HeadCell,{className:"text-center",children:"F Type"}),(0,x.jsx)(k,(0,s.Z)((0,s.Z)({},S.sort.marketCap),{},{onClickSorting:function(){return O("marketCap")},className:"justify-end"})),!i&&(0,x.jsx)(f.iA.HeadCell,{children:"Actions"})]}),(0,x.jsx)(f.iA.Body,{className:"divide-y",children:N.length>0&&N.map((function(n,t){return(0,x.jsxs)(f.iA.Row,{className:"bg-white",onClick:function(){return i=n.id,void e("/company/detail/".concat(i));var i},children:[i&&(0,x.jsx)(f.iA.Cell,{className:"whitespace-nowrap px-4",children:(0,x.jsxs)("div",{className:"flex flex-col text-center",children:[(0,x.jsx)("img",{src:"/favicon.ico",className:"company-logo",alt:"company logo"}),(0,x.jsx)("small",{children:(0,x.jsx)(u.rU,{to:"/company/detail/".concat(n.id),children:"See info"})}),(0,x.jsx)("small",{children:(0,x.jsx)(u.rU,{onClick:function(e){e.stopPropagation(),window.open(n.url)},children:"Visit site"})})]})}),(0,x.jsx)(f.iA.Cell,{children:(0,x.jsxs)("div",{className:"flex",children:[!i&&(0,x.jsx)("img",{src:"/favicon.ico",className:"company-logo",alt:"company logo"}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{children:n.aliasName}),(0,x.jsx)("small",{children:n.name.en})]})]})}),(0,x.jsx)(f.iA.Cell,{className:"text-center",children:n.fType}),(0,x.jsx)(f.iA.Cell,{className:"text-right",children:n.marketCapDisplay||"NA"}),!i&&(0,x.jsx)(f.iA.Cell,{children:(0,x.jsxs)("div",{className:"flex gap-1",children:[(0,x.jsx)(u.rU,{to:"/company/detail/".concat(n.id),children:"See info"})," | ",(0,x.jsx)(u.rU,{onClick:function(e){e.stopPropagation(),window.open(n.url)},children:"Visit site"})]})})]},"company-list-".concat(t))}))})]}):(0,x.jsx)(x.Fragment,{children:!L&&(0,x.jsx)("div",{className:"no-data",children:"There is no data"})}),L&&(0,x.jsx)(v.Z,{})]})]})})}}}]);
//# sourceMappingURL=639.4b5e0fbc.chunk.js.map