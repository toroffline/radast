"use strict";(self.webpackChunkradast=self.webpackChunkradast||[]).push([[639],{1304:function(e,n,t){t.r(n),t.d(n,{default:function(){return b}});var i=t(7762),a=t(4165),s=t(5861),r=t(1413),c=t(9439),l=t(2791),o=t(7689),u=t(1087),d=t(7839),f=t(3853),p=t(669),m=t(846),x=t(3291),h=t(6771),v=t(184),y={base:"flex items-center justify-start py-2 px-4 text-sm text-gray-700 w-full"};var j=function(e){var n=e.from,t=e.to,i=e.onApply,a=(0,l.useState)(n),s=(0,c.Z)(a,2),r=s[0],o=s[1],u=(0,l.useState)(t),f=(0,c.Z)(u,2),p=f[0],m=f[1],x=(0,l.useMemo)((function(){return h.Z.isFalsyIncludeZero(n)&&h.Z.isFalsyIncludeZero(t)?"Market Cap":"".concat(n&&n>=0?n.toLocaleString():"from"," - ").concat(t&&t>=0?t.toLocaleString():"to")}),[n,t]);return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(d.Lt,{dismissOnClick:!0,label:x,children:(0,v.jsx)(d.Lt.Item,{theme:y,as:"div",children:(0,v.jsxs)("div",{id:"range-input-menu",className:"p-3",children:[(0,v.jsxs)("div",{className:"flex items-center",children:[(0,v.jsx)(d.oi,{type:"number",placeholder:"From",value:r||"",onChange:function(e){return o(e.target.value)},onKeyDown:function(e){return e.stopPropagation()},onClick:function(e){return e.stopPropagation()},className:"range"}),(0,v.jsx)("span",{className:"mx-1",children:" \u2014 "}),(0,v.jsx)(d.oi,{placeholder:"To",value:p||"",onChange:function(e){return m(e.target.value)},onKeyDown:function(e){return e.stopPropagation()},onClick:function(e){return e.stopPropagation()},className:"range"})]}),(0,v.jsxs)("div",{className:"flex items-center justify-between mt-3",children:[(0,v.jsx)("a",{href:"",onClick:function(e){e.preventDefault(),o(0),m(0),i(0,0)},children:"Clear"}),(0,v.jsx)(d.zx,{onClick:function(){i(+r,+p)},className:"apply",children:"Apply"})]})]})})})})},A=t(3433),Z={base:"flex items-center justify-start py-2 px-4 text-sm text-gray-700 w-full"};var g=function(e){var n=e.filters,t=e.onApply,a=(0,l.useState)((0,A.Z)(n)),s=(0,c.Z)(a,2),o=s[0],u=s[1],f=(0,l.useCallback)((function(e){var n,t=!1,a=0,s=0,r=(0,i.Z)(e);try{for(r.s();!(n=r.n()).done;){var c=n.value;"all"!==c.value?c.isActive?s+=1:a+=1:c.isActive&&(t=!0)}}catch(o){r.e(o)}finally{r.f()}var l=a===e.length-1;return{isSelectAll:t=t||s===e.length-1,isDeselectAll:l}}),[]),p=(0,l.useMemo)((function(){return f(n).isSelectAll?n.filter((function(e){return"all"===e.value})).map((function(e){return e.display})):n.filter((function(e){return e.isActive})).map((function(e){return e.display})).join(", ")}),[n]);return(0,v.jsx)(d.Lt,{dismissOnClick:!0,label:p,onBlur:function(){return u((0,A.Z)(n))},children:(0,v.jsx)(d.Lt.Item,{as:"div",theme:Z,children:(0,v.jsxs)("div",{className:"p-3",children:[(0,v.jsx)("div",{className:"flex flex-row gap-1",children:o.map((function(e,n){return(0,v.jsx)(d.zx,{color:e.isActive?void 0:"light",onClick:function(e){e.stopPropagation(),u((function(e){return e.map((function(e,t){return(0,r.Z)((0,r.Z)({},e),{},{isActive:("all"!==e.value||!e.isActive)&&(n===t?!e.isActive:e.isActive)})}))}))},children:e.display},"dropdown-filter-".concat(n))}))}),(0,v.jsxs)("div",{className:"flex items-center justify-between mt-3",children:[(0,v.jsx)("a",{href:"",onClick:function(e){e.preventDefault();var n=o.map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{isActive:e.isDefault})}));u(n),t(n)},children:"Clear"}),(0,v.jsx)(d.zx,{onClick:function(){!function(){var e,n=f(o),i=n.isSelectAll,a=n.isDeselectAll;if(i){var s=o.map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{isActive:"all"===e.value})}));e=s,u(s)}else{var c=o.map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{isActive:a?e.isDefault:"all"!==e.value&&e.isActive})}));e=c,u(c)}t(e)}()},className:"apply",children:"Apply"})]})]})})})},C={isActive:!1,direction:"desc"},k=h.Z.defaultCompanyLogoSrc;function N(e){var n=e.display,t=e.direction,i=e.isActive,a=e.className,s=e.onClickSorting;return(0,v.jsxs)(d.iA.HeadCell,{className:"flex hover:underline ".concat(a||""),onClick:function(){return s()},children:[n,(0,v.jsx)("span",{className:"table-header-icon ".concat(i?"active":""),children:"asc"===t?(0,v.jsx)(f.iRh,{}):(0,v.jsx)(f.tv1,{})})]})}var b=function(){var e=(0,o.s0)(),n=(0,p.b)(),t=n.isMobile,h=n.setDisplayBackBtn,y=(0,l.useState)([]),A=(0,c.Z)(y,2),Z=A[0],b=A[1],w=(0,l.useState)({sort:{companyName:{display:"Company Name",isActive:!0,direction:"desc"},marketCap:{display:"Market Cap",isActive:!1,direction:"asc"}},marketCap:{from:null,to:null},search:"",fType:[{display:"All",value:"all",isActive:!1},{display:"Type S",value:"S",isActive:!0,isDefault:!0},{display:"Type A",value:"A",isActive:!1}]}),S=(0,c.Z)(w,2),D=S[0],T=S[1],L=(0,l.useState)(""),F=(0,c.Z)(L,2),P=F[0],H=F[1],M=(0,l.useState)(!0),U=(0,c.Z)(M,2),B=U[0],E=U[1];function I(e){var n=(0,r.Z)({},D.sort);Object.keys(n).forEach((function(t){t===e?n[e].isActive?n[e].direction="asc"===n[e].direction?"desc":"asc":n[e].isActive=!0:n[t]=(0,r.Z)((0,r.Z)({},n[t]),C)})),T((function(e){return(0,r.Z)((0,r.Z)({},e),{},{sort:n})}))}return(0,l.useEffect)((function(){function e(){return(e=(0,s.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Z.getList().then((function(e){return b(e)})).finally((function(){return E(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}h(!1),E(!0),function(){e.apply(this,arguments)}()}),[]),(0,l.useEffect)((function(){function e(){return(e=(0,s.Z)((0,a.Z)().mark((function e(){var n,t,s,c,l,o,u,d,f,p;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={field:void 0,direction:void 0},t=0,s=Object.keys(D.sort);case 2:if(!(t<s.length)){e.next=11;break}if(c=s[t],!D.sort[c].isActive){e.next=8;break}return n.field=c,n.direction=D.sort[c].direction,e.abrupt("break",11);case 8:t++,e.next=2;break;case 11:l=[],o=!1,u=(0,i.Z)(D.fType);try{for(u.s();!(d=u.n()).done;)"all"===(f=d.value).value&&(o=f.isActive),(f.isActive||o)&&l.push(f.value)}catch(a){u.e(a)}finally{u.f()}return p=(0,r.Z)((0,r.Z)({},D),{},{sort:n,fType:l}),e.next=18,m.Z.search(p).then((function(e){return b(e)})).finally((function(){return E(!1)}));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}E(!0),function(){e.apply(this,arguments)}()}),[D]),(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)(d.Zb,{className:"overflow-scroll sm:overflow-auto",children:[(0,v.jsxs)("div",{className:"main-filter",children:[(0,v.jsx)(d.oi,{icon:f.jRj,value:null!==P&&void 0!==P?P:"",placeholder:"Search by name or relavant keyword",onChange:function(e){H(e.target.value)},onKeyUp:function(e){"Enter"===e.key&&T((function(e){return(0,r.Z)((0,r.Z)({},e),{},{search:P})}))},className:"company-input-search"}),(0,v.jsxs)("div",{className:"sub-filter",children:[(0,v.jsx)(g,{filters:D.fType,onApply:function(e){T((function(n){return(0,r.Z)((0,r.Z)({},n),{},{fType:e})}))}}),(0,v.jsx)(j,{from:D.marketCap.from,to:D.marketCap.to,onApply:function(e,n){T((function(t){return(0,r.Z)((0,r.Z)({},t),{},{marketCap:{from:e,to:n}})}))}})]})]}),(0,v.jsxs)("div",{className:"content ".concat(Z&&0!==Z.length?"":"processing"),children:[Z&&Z.length>0?(0,v.jsxs)(d.iA,{hoverable:!0,children:[(0,v.jsxs)(d.iA.Head,{children:[t&&(0,v.jsx)(d.iA.HeadCell,{}),(0,v.jsx)(N,(0,r.Z)((0,r.Z)({},D.sort.companyName),{},{onClickSorting:function(){return I("companyName")}})),(0,v.jsx)(d.iA.HeadCell,{className:"text-center",children:"F Type"}),(0,v.jsx)(N,(0,r.Z)((0,r.Z)({},D.sort.marketCap),{},{onClickSorting:function(){return I("marketCap")},className:"justify-end"})),!t&&(0,v.jsx)(d.iA.HeadCell,{children:"Actions"})]}),(0,v.jsx)(d.iA.Body,{className:"divide-y",children:Z.length>0&&Z.map((function(n,i){return(0,v.jsxs)(d.iA.Row,{className:"bg-white",onClick:function(){return t=n.id,void e("/company/detail/".concat(t));var t},children:[t&&(0,v.jsx)(d.iA.Cell,{className:"whitespace-nowrap px-4",children:(0,v.jsxs)("div",{className:"flex flex-col text-center",children:[(0,v.jsx)("img",{src:k,className:"company-logo",alt:"company logo"}),(0,v.jsx)("small",{children:(0,v.jsx)(u.rU,{to:"/company/detail/".concat(n.id),children:"See info"})}),(0,v.jsx)("small",{children:(0,v.jsx)(u.rU,{onClick:function(e){e.stopPropagation(),window.open(n.url)},children:"Visit site"})})]})}),(0,v.jsx)(d.iA.Cell,{children:(0,v.jsxs)("div",{className:"flex",children:[!t&&(0,v.jsx)("img",{src:k,className:"company-logo",alt:"company logo"}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{children:n.aliasName}),(0,v.jsx)("small",{children:n.name.en})]})]})}),(0,v.jsx)(d.iA.Cell,{className:"text-center",children:n.fType}),(0,v.jsx)(d.iA.Cell,{className:"text-right",children:n.marketCapDisplay||"NA"}),!t&&(0,v.jsx)(d.iA.Cell,{children:(0,v.jsxs)("div",{className:"flex gap-1",children:[(0,v.jsx)(u.rU,{to:"/company/detail/".concat(n.id),children:"See info"})," | ",(0,v.jsx)(u.rU,{onClick:function(e){e.stopPropagation(),window.open(n.url)},children:"Visit site"})]})})]},"company-list-".concat(i))}))})]}):(0,v.jsx)(v.Fragment,{children:!B&&(0,v.jsxs)("div",{className:"no-data",children:[(0,v.jsx)(f.bcx,{className:"icon"}),(0,v.jsx)("h3",{className:"mb-0",children:"No data found"}),(0,v.jsx)("small",{children:"Check your spelling or try other keywords"})]})}),B&&(0,v.jsx)(x.Z,{})]})]})})}}}]);
//# sourceMappingURL=639.d281818f.chunk.js.map